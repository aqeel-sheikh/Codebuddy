{% extends "layout.html" %}

{% block title %}🔍 Search Results | CodeBuddy{% endblock %}

{% block content %}
<div class="container mt-4">
    {% if results %}
        <h2 class="text-center fw-bold theme-primary">{{ results[0][1] }}</h2>

        <div class="row g-3 mt-3">
            {% for language in results %}
                <div class="col-md-6 col-lg-4">
                    <div class="glass-card p-4 rounded">
                        
                        <p class="fs-5">{{ language[2][:150] }}{% if language[2]|length > 150 %}...{% endif %}</p>
                        <p class="small theme-text">{{ language[3] }}</p>
                        <small class="theme-text text-secondary fst-italic">🏷 Tags: {{ language[4] }}</small>
                        <div class="mt-3">
                            <a href="/edit_syntax/{{ language[0] }}" class="btn btn-primary btn-sm">Edit</a>
                            <a href="/delete_syntax/{{ language[0] }}" class="btn btn-danger btn-sm">Delete</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
            <div class="alert theme-alert text-center mt-3">
                🚨 No matching syntax found! Try refining your search.  
                <br>
                <small class="theme-text">(Hint: Search using the Language Name or Title for best results.)</small>
            </div>
    {% endif %}
</div>
{% endblock %}